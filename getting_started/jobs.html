<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Docutils 0.19: https://docutils.sourceforge.io/" name="generator"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="ie=edge" http-equiv="x-ua-compatible"/>
  <meta content="Copy to clipboard" name="lang:clipboard.copy"/>
  <meta content="Copied to clipboard" name="lang:clipboard.copied"/>
  <meta content="en" name="lang:search.language"/>
  <meta content="True" name="lang:search.pipeline.stopwords"/>
  <meta content="True" name="lang:search.pipeline.trimmer"/>
  <meta content="No matching documents" name="lang:search.result.none"/>
  <meta content="1 matching document" name="lang:search.result.one"/>
  <meta content="# matching documents" name="lang:search.result.other"/>
  <meta content="[\s\-]+" name="lang:search.tokenizer"/>
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&amp;display=fallback" rel="stylesheet"/>
  <style>
   body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
  </style>
  <link href="../_static/stylesheets/application.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-palette.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-fixes.css" rel="stylesheet"/>
  <link href="../_static/fonts/material-icons.css" rel="stylesheet"/>
  <meta content="#262626" name="theme-color"/>
  <script src="../_static/javascripts/modernizr.js">
  </script>
  <link href="../_static/images/flux-operator.jpg" rel="apple-touch-icon"/>
  <title>
   Jobs — Flux Operator
  </title>
  <link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/material.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/css/rtd_sphinx_search.min.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/custom.css" rel="stylesheet" type="text/css"/>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js">
  </script>
  <script src="../_static/jquery.js">
  </script>
  <script src="../_static/underscore.js">
  </script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js">
  </script>
  <script src="../_static/doctools.js">
  </script>
  <script src="../_static/sphinx_highlight.js">
  </script>
  <script src="../_static/clipboard.min.js">
  </script>
  <script src="../_static/copybutton.js">
  </script>
  <script src="../_static/js/rtd_sphinx_search.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js">
  </script>
  <link href="../_static/favicon.ico" rel="shortcut icon"/>
  <link href="../genindex.html" rel="index" title="Index"/>
  <link href="../search.html" rel="search" title="Search"/>
  <link href="custom-resource-definition.html" rel="next" title="Mini Cluster"/>
  <link href="user-guide.html" rel="prev" title="User Guide"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
  <!-- Social: Facebook / Open Graph -->
  <title>
   Flux RESTful API in Python
  </title>
  <link href="https://flux-framework.github.io/flux-restful-api/" rel="canonical"/>
  <meta content="website" property="og:type"/>
  <meta content="https://flux-framework.github.io/flux-restful-api/" property="og:url"/>
  <meta content="Flux RESTful API" property="og:title"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" property="og:image"/>
  <meta content="Flux RESTful API in Python" property="og:description"/>
  <meta content="Flux RESTful API" property="og:site_name"/>
  <meta content="en_US" property="og:locale"/>
  <!-- Social: Twitter -->
  <meta content="summary" name="twitter:card"/>
  <meta content="@FluxFramework" name="twitter:site"/>
  <meta content="Flux Framework" name="twitter:title"/>
  <meta content="Flux RESTFul API in Python" name="twitter:description"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" name="twitter:image"/>
  <!-- Social: Google+ / Schema.org  -->
  <meta content="Flux RESTful API" itemprop="name"/>
  <meta content="Flux RESTFul API in Python" itemprop="description"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" itemprop="image"/>
  <script type="application/ld+json">
   {"@type":"WebSite","headline":"Flux RESTful API","url":"https://flux-framework.github.io/flux-restful-api","description":"Flux RESTful API in Python","name":"Flux RESTful API","@context":"https://schema.org"}
  </script>
  <style>
   .material-symbols-outlined {
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 48
}
.sphx-glr-script-out .highlight pre {
  background-color: #def0ff !important;
}
  </style>
  <link href="../_static/images/flux-operator.jpg" rel="apple-touch-icon"/>
 </head>
 <body data-md-color-accent="blue" data-md-color-primary="blue" dir="ltr">
  <svg class="md-svg">
   <defs data-children-count="0">
    <svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg">
     <path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor">
     </path>
    </svg>
   </defs>
  </svg>
  <input class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
  <input class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
  <label class="md-overlay" data-md-component="overlay" for="__drawer">
  </label>
  <a class="md-skip" href="#getting_started/jobs" tabindex="1">
   Skip to content
  </a>
  <header class="md-header" data-md-component="header">
   <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
     <div class="md-flex__cell md-flex__cell--shrink">
      <a class="md-header-nav__button md-logo" href="../index.html" title="Flux Operator">
       <span class="material-symbols-outlined">
        cycle
       </span>
      </a>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer">
      </label>
     </div>
     <div class="md-flex__cell md-flex__cell--stretch">
      <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
       <span class="md-header-nav__topic" style="width: 1046px;margin-left: -20px;">
        Flux Operator
       </span>
       <span class="md-header-nav__topic">
        Jobs
       </span>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--search md-header-nav__button" for="__search">
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
       <label class="md-search__overlay" for="__search">
       </label>
       <div class="md-search__inner" role="search">
        <form action="../search.html" class="md-search__form" method="get" name="search">
         <input autocapitalize="off" autocomplete="off" class="md-search__input" data-md-component="query" data-md-state="active" name="q" placeholder="Search" spellcheck="false" type="text"/>
         <label class="md-icon md-search__icon" for="__search">
         </label>
         <button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
          
         </button>
        </form>
        <div class="md-search__output">
         <div class="md-search__scrollwrap" data-md-scrollfix="">
          <div class="md-search-result" data-md-component="result">
           <div class="md-search-result__meta">
            Type to start searching
           </div>
           <ol class="md-search-result__list">
           </ol>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <div class="md-header-nav__source">
       <a class="md-source" data-md-source="github" href="https://github.com/flux-framework/flux-operator/" title="Go to repository">
        <div class="md-source__icon">
         <!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>-->
         <!-- updated to match riverml.xml site-->
         <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
          <path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z" fill="#ffffff">
          </path>
         </svg>
        </div>
        <div class="md-source__repository">
         Flux Operator
        </div>
       </a>
      </div>
     </div>
    </div>
   </nav>
  </header>
  <div class="md-container">
   <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
     <ul class="md-tabs__list">
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://flux-framework.org/">
        Flux Framework
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://github.com/flux-framework">
        Flux Framework on GitHub
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://github.com/flux-framework/flux-operator">
        Flux Operator on GitHub
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="index.html">
        User Guide
       </a>
      </li>
     </ul>
    </div>
   </nav>
   <main class="md-main">
    <div class="md-main__inner md-grid" data-md-component="container">
     <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--primary" data-md-level="0">
         <label class="md-nav__title md-nav__title--site" for="__drawer">
          <a class="md-nav__button md-logo" href="../index.html" title="Flux Operator">
           <i class="md-icon">
            cycle
           </i>
          </a>
          <a href="../index.html" title="Flux Operator">
           Flux Operator
          </a>
         </label>
         <div class="md-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/flux-framework/flux-operator/" title="Go to repository">
           <div class="md-source__icon">
            <!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>-->
            <!-- updated to match riverml.xml site-->
            <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
             <path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z" fill="#ffffff">
             </path>
            </svg>
           </div>
           <div class="md-source__repository">
            Flux Operator
           </div>
          </a>
         </div>
         <ul class="md-nav__list">
          <li class="md-nav__item">
           <span class="md-nav__link caption">
            <span class="caption-text">
             Getting Started
            </span>
           </span>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="index.html">
            User Guide
           </a>
           <ul class="md-nav__list">
            <li class="md-nav__item">
             <a class="md-nav__link" href="user-guide.html">
              User Guide
             </a>
            </li>
            <li class="md-nav__item">
             <input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
             <label class="md-nav__link md-nav__link--active" for="__toc">
              Jobs
             </label>
             <a class="md-nav__link md-nav__link--active" href="#">
              Jobs
             </a>
             <nav class="md-nav md-nav--secondary">
              <label class="md-nav__title" for="__toc">
               Contents
              </label>
              <ul class="md-nav__list" data-md-scrollfix="">
               <li class="md-nav__item">
                <a class="md-nav__link" href="#getting-started-jobs--page-root">
                 Jobs
                </a>
                <nav class="md-nav">
                 <ul class="md-nav__list">
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#credentials">
                    Credentials
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#ways-to-submit">
                    Ways to Submit
                   </a>
                   <nav class="md-nav">
                    <ul class="md-nav__list">
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#user-interface">
                       1. User Interface
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#command-line-or-python">
                       2. Command Line or Python
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#flux-cloud-helper-tool">
                       3. Flux Cloud Helper Tool
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#advanced-shell">
                       4. Advanced Shell
                      </a>
                     </li>
                    </ul>
                   </nav>
                  </li>
                 </ul>
                </nav>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__extra_link" href="../_sources/getting_started/jobs.md.txt">
                 Show Source
                </a>
               </li>
              </ul>
             </nav>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="custom-resource-definition.html">
              Mini Cluster
             </a>
            </li>
           </ul>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../development/index.html">
            Development
           </a>
          </li>
          <li class="md-nav__item">
           <span class="md-nav__link caption">
            <span class="caption-text">
             Deployment
            </span>
           </span>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../deployment/index.html">
            Clouds
           </a>
          </li>
          <li class="md-nav__item">
           <span class="md-nav__link caption">
            <span class="caption-text">
             About
            </span>
           </span>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../contributing.html">
            Contributing
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../about/license.html">
            License
           </a>
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--secondary">
         <label class="md-nav__title" for="__toc">
          Contents
         </label>
         <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item">
           <a class="md-nav__link" href="#getting-started-jobs--page-root">
            Jobs
           </a>
           <nav class="md-nav">
            <ul class="md-nav__list">
             <li class="md-nav__item">
              <a class="md-nav__link" href="#credentials">
               Credentials
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#ways-to-submit">
               Ways to Submit
              </a>
              <nav class="md-nav">
               <ul class="md-nav__list">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#user-interface">
                  1. User Interface
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#command-line-or-python">
                  2. Command Line or Python
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#flux-cloud-helper-tool">
                  3. Flux Cloud Helper Tool
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#advanced-shell">
                  4. Advanced Shell
                 </a>
                </li>
               </ul>
              </nav>
             </li>
            </ul>
           </nav>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__extra_link" href="../_sources/getting_started/jobs.md.txt">
            Show Source
           </a>
          </li>
          <li class="md-nav__item" id="searchbox">
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-content">
      <article class="md-content__inner md-typeset" role="main">
       <section id="jobs">
        <h1 id="getting-started-jobs--page-root">
         Jobs
         <a class="headerlink" href="#getting-started-jobs--page-root" title="Permalink to this heading">
          ¶
         </a>
        </h1>
        <p>
         Given a running MiniCluster that exposes a RESTful API, you have several modes for interaction:
        </p>
        <ol class="arabic simple">
         <li>
          <p>
           Submit jobs in the user interface (basic)
          </p>
         </li>
         <li>
          <p>
           Submit jobs from the command line “RESTful” or within Python (custom)
          </p>
         </li>
         <li>
          <p>
           Use a helper tool “flux-cloud”
          </p>
         </li>
         <li>
          <p>
           Submit jobs interacting with Flux via ssh-ing to the pod (advanced)
          </p>
         </li>
        </ol>
        <p>
         We provide
         <a class="reference external" href="https://github.com/flux-framework/flux-restful-api/tree/main/clients">
          clients
         </a>
         to interact with
a running server, and each will be briefly shown below. The Python client is also included in our
         <a class="reference external" href="https://flux-framework.org/flux-restful-api/auto_examples/index.html">
          Tutorials
         </a>
         .
        </p>
        <section id="credentials">
         <h2 id="credentials">
          Credentials
          <a class="headerlink" href="#credentials" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <p>
          Whether you use a command line client, a language SDK, or the web interface - you need your credentials!
The credentials are printed in the log of the index-0. These are the
          <code class="docutils literal notranslate">
           <span class="pre">
            FLUX_USER
           </span>
          </code>
          and
          <code class="docutils literal notranslate">
           <span class="pre">
            FLUX_TOKEN
           </span>
          </code>
          environment variables. A client requires exported them to the environment, and the web interface requires
copy paste into a form.
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span><span class="c1"># get the job pod identifier for index 0, the broker</span>
$<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>-n<span class="w"> </span>flux-operator<span class="w"> </span>pods
$<span class="w"> </span>kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>flux-operator<span class="w"> </span><span class="si">${</span><span class="nv">brokerPod</span><span class="si">}</span>
</pre>
          </div>
         </div>
         <div class="highlight-console notranslate">
          <div class="highlight">
           <pre><span></span><span class="go">🔑 Your Credentials! These will allow you to control your MiniCluster with flux-framework/flux-restful-api</span>
<span class="go">export FLUX_TOKEN=9c605129-3ddc-41e2-9a23-38f59fb8f8e0</span>
<span class="go">export FLUX_USER=flux</span>

<span class="go">🌀sudo -u flux flux start -o --config /etc/flux/config ...</span>
</pre>
          </div>
         </div>
         <p>
          Note that they appear slightly above the command, which isn’t at the bottom of the log!
         </p>
        </section>
        <section id="ways-to-submit">
         <h2 id="ways-to-submit">
          Ways to Submit
          <a class="headerlink" href="#ways-to-submit" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <section id="user-interface">
          <h3 id="user-interface">
           1. User Interface
           <a class="headerlink" href="#user-interface" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           To see the user interface, you’ll first need to do some kind of port forwarding:
          </p>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">kubectl port-forward -n flux-operator flux-sample-0-zdhkp 5000:5000</span>
<span class="go">Forwarding from 127.0.0.1:5000 -&gt; 5000</span>
</pre>
           </div>
          </div>
          <p>
           This should be exposed at
           <a class="reference external" href="http://127.0.0.1:5000">
            http://127.0.0.1:5000
           </a>
           . It’s not terribly informative, so
we won’t show the main portal here! 🤭
          </p>
          <p>
           After your MiniCluster is created with a RESTFul API, the easiest thing to do is open the user interface to
           <a class="reference external" href="http://127.0.0.1:5000">
            http://127.0.0.1:5000
           </a>
           After port forwarding in a terminal and then submitting in the job UI (you will need to login with the flux user and token presented in the terminal). Here is the example command to try
for the basic tutorial here:
          </p>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">lmp -v x 2 -v y 2 -v z 2 -in in.reaxc.hns -nocite</span>
</pre>
           </div>
          </div>
          <p>
           And the workdir for this default example needs to be:
          </p>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">/home/flux/examples/reaxff/HNS</span>
</pre>
           </div>
          </div>
          <p>
           <img alt="img/submit.png" src="../_images/submit.png"/>
          </p>
          <p>
           After submit, you can view the job in the jobs table:
          </p>
          <p>
           <img alt="img/jobs-table.png" src="../_images/jobs-table.png"/>
          </p>
          <p>
           And click the identifier to see logs (currently blocking so will wait until it’s done, soon won’t be!)
          </p>
          <p>
           <img alt="img/job-info.png" src="../_images/job-info.png"/>
          </p>
          <p>
           And that’s it for the example! You can further explore the exposed API in the web interface:
          </p>
          <p>
           <img alt="img/api.png" src="../_images/api.png"/>
          </p>
          <p>
           And you can also try using the
           <a class="reference external" href="https://flux-framework.org/flux-restful-api/getting_started/user-guide.html">
            RESTFul API Clients
           </a>
           to submit instead
(discussed next). Note that there is currently no way for the RESTful client to ask to destroy the cluster - you’ll
still need to use kubectl to do that.
          </p>
         </section>
         <section id="command-line-or-python">
          <h3 id="command-line-or-python">
           2. Command Line or Python
           <a class="headerlink" href="#command-line-or-python" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           Remember that before starting you’ll need to export your
           <code class="docutils literal notranslate">
            <span class="pre">
             FLUX_USER
            </span>
           </code>
           and
           <code class="docutils literal notranslate">
            <span class="pre">
             FLUX_TOKEN
            </span>
           </code>
           to the environment:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># get the job pod identifier for index 0, the broker</span>
$<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>-n<span class="w"> </span>flux-operator<span class="w"> </span>pods
$<span class="w"> </span>kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>flux-operator<span class="w"> </span><span class="si">${</span><span class="nv">brokerPod</span><span class="si">}</span>
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">🔑 Your Credentials! These will allow you to control your MiniCluster with flux-framework/flux-restful-api</span>
<span class="go">export FLUX_TOKEN=9c605129-3ddc-41e2-9a23-38f59fb8f8e0</span>
<span class="go">export FLUX_USER=flux</span>

<span class="go">🌀sudo -u flux flux start -o --config /etc/flux/config ...</span>
</pre>
           </div>
          </div>
          <p>
           Next, you can use the
           <a class="reference external" href="https://flux-framework.org/flux-restful-api/getting_started/user-guide.html#python">
            flux-framework/flux-restful-api
           </a>
           Python client to submit a job.
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>flux-restful-client
</pre>
           </div>
          </div>
          <p>
           And then (after you’ve started port forwarding) you can either submit on the command line:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$<span class="w"> </span>flux-restful-cli<span class="w"> </span>submit<span class="w"> </span>lmp<span class="w"> </span>-v<span class="w"> </span>x<span class="w"> </span><span class="m">2</span><span class="w"> </span>-v<span class="w"> </span>y<span class="w"> </span><span class="m">2</span><span class="w"> </span>-v<span class="w"> </span>z<span class="w"> </span><span class="m">2</span><span class="w"> </span>-in<span class="w"> </span><span class="k">in</span>.reaxc.hns<span class="w"> </span>-nocite
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">{</span>
<span class="go">    "Message": "Job submit.",</span>
<span class="go">    "id": 19099568570368</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
          <p>
           And get info:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$<span class="w"> </span>flux-restful-cli<span class="w"> </span>info<span class="w"> </span><span class="m">19099568570368</span>
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">{</span>
<span class="go">    "id": 2324869152768,</span>
<span class="go">    "userid": 1234,</span>
<span class="go">    "urgency": 16,</span>
<span class="go">    "priority": 16,</span>
<span class="go">    "t_submit": 1668475082.8024156,</span>
<span class="go">    "t_depend": 1668475082.8024156,</span>
<span class="go">    "t_run": 1668475082.8159652,</span>
<span class="go">    "state": "RUN",</span>
<span class="go">    "name": "lmp",</span>
<span class="go">    "ntasks": 1,</span>
<span class="go">    "nnodes": 1,</span>
<span class="go">    "ranks": "3",</span>
<span class="go">    "nodelist": "flux-sample-3",</span>
<span class="go">    "expiration": 1669079882.0,</span>
<span class="go">    "annotations": {</span>
<span class="go">        "sched": {</span>
<span class="go">            "queue": "default"</span>
<span class="go">        }</span>
<span class="go">    },</span>
<span class="go">    "result": "",</span>
<span class="go">    "returncode": "",</span>
<span class="go">    "runtime": 16.86149311065674,</span>
<span class="go">    "waitstatus": "",</span>
<span class="go">    "exception": {</span>
<span class="go">        "occurred": "",</span>
<span class="go">        "severity": "",</span>
<span class="go">        "type": "",</span>
<span class="go">        "note": ""</span>
<span class="go">    },</span>
<span class="go">    "duration": ""</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
          <p>
           Or get the output log!
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$<span class="w"> </span>flux-restful-cli<span class="w"> </span>logs<span class="w"> </span><span class="m">2324869152768</span>
LAMMPS<span class="w"> </span><span class="o">(</span><span class="m">29</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">2021</span><span class="w"> </span>-<span class="w"> </span>Update<span class="w"> </span><span class="m">2</span><span class="o">)</span>
OMP_NUM_THREADS<span class="w"> </span>environment<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>set.<span class="w"> </span>Defaulting<span class="w"> </span>to<span class="w"> </span><span class="m">1</span><span class="w"> </span>thread.<span class="w"> </span><span class="o">(</span>src/comm.cpp:98<span class="o">)</span>
using<span class="w"> </span><span class="m">1</span><span class="w"> </span>OpenMP<span class="w"> </span>thread<span class="o">(</span>s<span class="o">)</span><span class="w"> </span>per<span class="w"> </span>MPI<span class="w"> </span>task
Reading<span class="w"> </span>data<span class="w"> </span>file<span class="w"> </span>...
triclinic<span class="w"> </span><span class="nv">box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0000000<span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span><span class="m">0</span>.0000000<span class="o">)</span><span class="w"> </span>to<span class="w"> </span><span class="o">(</span><span class="m">22</span>.326000<span class="w"> </span><span class="m">11</span>.141200<span class="w"> </span><span class="m">13</span>.778966<span class="o">)</span><span class="w"> </span>with<span class="w"> </span>tilt<span class="w"> </span><span class="o">(</span><span class="m">0</span>.0000000<span class="w"> </span>-5.0260300<span class="w"> </span><span class="m">0</span>.0000000<span class="o">)</span>
<span class="m">1</span><span class="w"> </span>by<span class="w"> </span><span class="m">1</span><span class="w"> </span>by<span class="w"> </span><span class="m">1</span><span class="w"> </span>MPI<span class="w"> </span>processor<span class="w"> </span>grid
reading<span class="w"> </span>atoms<span class="w"> </span>...
<span class="m">304</span><span class="w"> </span>atoms
reading<span class="w"> </span>velocities<span class="w"> </span>...
<span class="m">304</span><span class="w"> </span>velocities
read_data<span class="w"> </span><span class="nv">CPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.005<span class="w"> </span>seconds
Replicating<span class="w"> </span>atoms<span class="w"> </span>...
triclinic<span class="w"> </span><span class="nv">box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0000000<span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span><span class="m">0</span>.0000000<span class="o">)</span><span class="w"> </span>to<span class="w"> </span><span class="o">(</span><span class="m">44</span>.652000<span class="w"> </span><span class="m">22</span>.282400<span class="w"> </span><span class="m">27</span>.557932<span class="o">)</span><span class="w"> </span>with<span class="w"> </span>tilt<span class="w"> </span><span class="o">(</span><span class="m">0</span>.0000000<span class="w"> </span>-10.052060<span class="w"> </span><span class="m">0</span>.0000000<span class="o">)</span>
<span class="m">1</span><span class="w"> </span>by<span class="w"> </span><span class="m">1</span><span class="w"> </span>by<span class="w"> </span><span class="m">1</span><span class="w"> </span>MPI<span class="w"> </span>processor<span class="w"> </span>grid
bounding<span class="w"> </span>box<span class="w"> </span><span class="nv">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>-1<span class="w"> </span>-1<span class="o">)</span><span class="w"> </span>to<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="o">)</span>
bounding<span class="w"> </span>box<span class="w"> </span>extra<span class="w"> </span><span class="nv">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.03<span class="w"> </span>MB
average<span class="w"> </span><span class="c1"># of replicas added to proc = 8.00 out of 8 (100.00%)</span>
<span class="m">2432</span><span class="w"> </span>atoms
replicate<span class="w"> </span><span class="nv">CPU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.001<span class="w"> </span>seconds
Neighbor<span class="w"> </span>list<span class="w"> </span>info<span class="w"> </span>...
update<span class="w"> </span>every<span class="w"> </span><span class="m">20</span><span class="w"> </span>steps,<span class="w"> </span>delay<span class="w"> </span><span class="m">0</span><span class="w"> </span>steps,<span class="w"> </span>check<span class="w"> </span>no
max<span class="w"> </span>neighbors/atom:<span class="w"> </span><span class="m">2000</span>,<span class="w"> </span>page<span class="w"> </span>size:<span class="w"> </span><span class="m">100000</span>
master<span class="w"> </span>list<span class="w"> </span>distance<span class="w"> </span><span class="nv">cutoff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">11</span>
ghost<span class="w"> </span>atom<span class="w"> </span><span class="nv">cutoff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">11</span>
<span class="nv">binsize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>.5,<span class="w"> </span><span class="nv">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span>
<span class="m">2</span><span class="w"> </span>neighbor<span class="w"> </span>lists,<span class="w"> </span>perpetual/occasional/extra<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span>pair<span class="w"> </span>reax/c,<span class="w"> </span>perpetual
attributes:<span class="w"> </span>half,<span class="w"> </span>newton<span class="w"> </span>off,<span class="w"> </span>ghost
pair<span class="w"> </span>build:<span class="w"> </span>half/bin/newtoff/ghost
stencil:<span class="w"> </span>full/ghost/bin/3d
bin:<span class="w"> </span>standard
<span class="o">(</span><span class="m">2</span><span class="o">)</span><span class="w"> </span>fix<span class="w"> </span>qeq/reax,<span class="w"> </span>perpetual,<span class="w"> </span>copy<span class="w"> </span>from<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span>
attributes:<span class="w"> </span>half,<span class="w"> </span>newton<span class="w"> </span>off,<span class="w"> </span>ghost
pair<span class="w"> </span>build:<span class="w"> </span>copy
stencil:<span class="w"> </span>none
bin:<span class="w"> </span>none
Setting<span class="w"> </span>up<span class="w"> </span>Verlet<span class="w"> </span>run<span class="w"> </span>...
Unit<span class="w"> </span>style<span class="w">    </span>:<span class="w"> </span>real
Current<span class="w"> </span>step<span class="w">  </span>:<span class="w"> </span><span class="m">0</span>
Time<span class="w"> </span>step<span class="w">     </span>:<span class="w"> </span><span class="m">0</span>.1
Per<span class="w"> </span>MPI<span class="w"> </span>rank<span class="w"> </span>memory<span class="w"> </span>allocation<span class="w"> </span><span class="o">(</span>min/avg/max<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">215</span>.0<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">215</span>.0<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">215</span>.0<span class="w"> </span>Mbytes
Step<span class="w"> </span>Temp<span class="w"> </span>PotEng<span class="w"> </span>Press<span class="w"> </span>E_vdwl<span class="w"> </span>E_coul<span class="w"> </span>Volume
<span class="m">0</span><span class="w">          </span><span class="m">300</span><span class="w">   </span>-113.27833<span class="w">    </span><span class="m">437</span>.52122<span class="w">   </span>-111.57687<span class="w">   </span>-1.7014647<span class="w">    </span><span class="m">27418</span>.867
<span class="m">10</span><span class="w">    </span><span class="m">299</span>.38517<span class="w">   </span>-113.27631<span class="w">    </span><span class="m">1439</span>.2857<span class="w">   </span>-111.57492<span class="w">   </span>-1.7013813<span class="w">    </span><span class="m">27418</span>.867
<span class="m">20</span><span class="w">    </span><span class="m">300</span>.27107<span class="w">   </span>-113.27884<span class="w">    </span><span class="m">3764</span>.3739<span class="w">   </span>-111.57762<span class="w">   </span>-1.7012246<span class="w">    </span><span class="m">27418</span>.867
<span class="m">30</span><span class="w">    </span><span class="m">302</span>.21063<span class="w">   </span>-113.28428<span class="w">    </span><span class="m">7007</span>.6914<span class="w">   </span>-111.58335<span class="w">   </span>-1.7009363<span class="w">    </span><span class="m">27418</span>.867
<span class="m">40</span><span class="w">    </span><span class="m">303</span>.52265<span class="w">   </span>-113.28799<span class="w">      </span><span class="m">9844</span>.84<span class="w">   </span>-111.58747<span class="w">   </span>-1.7005186<span class="w">    </span><span class="m">27418</span>.867
<span class="m">50</span><span class="w">    </span><span class="m">301</span>.87059<span class="w">   </span>-113.28324<span class="w">    </span><span class="m">9663</span>.0443<span class="w">   </span>-111.58318<span class="w">   </span>-1.7000524<span class="w">    </span><span class="m">27418</span>.867
<span class="m">60</span><span class="w">    </span><span class="m">296</span>.67807<span class="w">   </span>-113.26777<span class="w">    </span><span class="m">7273</span>.7928<span class="w">   </span>-111.56815<span class="w">   </span>-1.6996137<span class="w">    </span><span class="m">27418</span>.867
<span class="m">70</span><span class="w">    </span><span class="m">292</span>.19999<span class="w">   </span>-113.25435<span class="w">    </span><span class="m">5533</span>.6428<span class="w">   </span>-111.55514<span class="w">   </span>-1.6992157<span class="w">    </span><span class="m">27418</span>.867
<span class="m">80</span><span class="w">    </span><span class="m">293</span>.58677<span class="w">   </span>-113.25831<span class="w">    </span><span class="m">5993</span>.4151<span class="w">   </span>-111.55946<span class="w">   </span>-1.6988533<span class="w">    </span><span class="m">27418</span>.867
<span class="m">90</span><span class="w">    </span><span class="m">300</span>.62636<span class="w">   </span>-113.27925<span class="w">    </span><span class="m">7202</span>.8651<span class="w">   </span>-111.58069<span class="w">   </span>-1.6985591<span class="w">    </span><span class="m">27418</span>.867
<span class="m">100</span><span class="w">    </span><span class="m">305</span>.38276<span class="w">   </span>-113.29357<span class="w">    </span><span class="m">10085</span>.748<span class="w">   </span>-111.59518<span class="w">   </span>-1.6983875<span class="w">    </span><span class="m">27418</span>.867
Loop<span class="w"> </span><span class="nb">time</span><span class="w"> </span>of<span class="w"> </span><span class="m">20</span>.1295<span class="w"> </span>on<span class="w"> </span><span class="m">1</span><span class="w"> </span>procs<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">100</span><span class="w"> </span>steps<span class="w"> </span>with<span class="w"> </span><span class="m">2432</span><span class="w"> </span>atoms

Performance:<span class="w"> </span><span class="m">0</span>.043<span class="w"> </span>ns/day,<span class="w"> </span><span class="m">559</span>.152<span class="w"> </span>hours/ns,<span class="w"> </span><span class="m">4</span>.968<span class="w"> </span>timesteps/s
<span class="m">99</span>.6%<span class="w"> </span>CPU<span class="w"> </span>use<span class="w"> </span>with<span class="w"> </span><span class="m">1</span><span class="w"> </span>MPI<span class="w"> </span>tasks<span class="w"> </span>x<span class="w"> </span><span class="m">1</span><span class="w"> </span>OpenMP<span class="w"> </span>threads

MPI<span class="w"> </span>task<span class="w"> </span>timing<span class="w"> </span>breakdown:
Section<span class="w"> </span><span class="p">|</span><span class="w">  </span>min<span class="w"> </span><span class="nb">time</span><span class="w">  </span><span class="p">|</span><span class="w">  </span>avg<span class="w"> </span><span class="nb">time</span><span class="w">  </span><span class="p">|</span><span class="w">  </span>max<span class="w"> </span><span class="nb">time</span><span class="w">  </span><span class="p">|</span>%varavg<span class="p">|</span><span class="w"> </span>%total
---------------------------------------------------------------
Pair<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="m">14</span>.914<span class="w">     </span><span class="p">|</span><span class="w"> </span><span class="m">14</span>.914<span class="w">     </span><span class="p">|</span><span class="w"> </span><span class="m">14</span>.914<span class="w">     </span><span class="p">|</span><span class="w">   </span><span class="m">0</span>.0<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">74</span>.09
Neigh<span class="w">   </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.39663<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.39663<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.39663<span class="w">    </span><span class="p">|</span><span class="w">   </span><span class="m">0</span>.0<span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="m">1</span>.97
Comm<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.0068084<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.0068084<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.0068084<span class="w">  </span><span class="p">|</span><span class="w">   </span><span class="m">0</span>.0<span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="m">0</span>.03
Output<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.00025632<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.00025632<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.00025632<span class="w"> </span><span class="p">|</span><span class="w">   </span><span class="m">0</span>.0<span class="w"> </span><span class="p">|</span><span class="w">  </span><span class="m">0</span>.00
Modify<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="m">4</span>.8104<span class="w">     </span><span class="p">|</span><span class="w"> </span><span class="m">4</span>.8104<span class="w">     </span><span class="p">|</span><span class="w"> </span><span class="m">4</span>.8104<span class="w">     </span><span class="p">|</span><span class="w">   </span><span class="m">0</span>.0<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">23</span>.90
Other<span class="w">   </span><span class="p">|</span><span class="w">            </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>.001154<span class="w">   </span><span class="p">|</span><span class="w">            </span><span class="p">|</span><span class="w">       </span><span class="p">|</span><span class="w">  </span><span class="m">0</span>.01

Nlocal:<span class="w">        </span><span class="m">2432</span>.00<span class="w"> </span>ave<span class="w">        </span><span class="m">2432</span><span class="w"> </span>max<span class="w">        </span><span class="m">2432</span><span class="w"> </span>min
Histogram:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
Nghost:<span class="w">        </span><span class="m">10685</span>.0<span class="w"> </span>ave<span class="w">       </span><span class="m">10685</span><span class="w"> </span>max<span class="w">       </span><span class="m">10685</span><span class="w"> </span>min
Histogram:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
Neighs:<span class="w">        </span><span class="m">823958</span>.0<span class="w"> </span>ave<span class="w">      </span><span class="m">823958</span><span class="w"> </span>max<span class="w">      </span><span class="m">823958</span><span class="w"> </span>min
Histogram:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>

Total<span class="w"> </span><span class="c1"># of neighbors = 823958</span>
Ave<span class="w"> </span>neighs/atom<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">338</span>.79852
Neighbor<span class="w"> </span>list<span class="w"> </span><span class="nv">builds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
Dangerous<span class="w"> </span>builds<span class="w"> </span>not<span class="w"> </span>checked
Total<span class="w"> </span>wall<span class="w"> </span>time:<span class="w"> </span><span class="m">0</span>:00:20
</pre>
           </div>
          </div>
          <p>
           Or do the same from within Python:
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">flux_restful_client.main</span> <span class="kn">import</span> <span class="n">get_client</span>

<span class="n">cli</span> <span class="o">=</span> <span class="n">get_client</span><span class="p">()</span>

<span class="c1"># Define our jop</span>
<span class="n">command</span> <span class="o">=</span> <span class="s2">"lmp -v x 2 -v y 2 -v z 2 -in in.reaxc.hns -nocite"</span>

<span class="c1"># Submit the job to flux</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"😴 Submitting job: </span><span class="si">{</span><span class="n">command</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="c1"># Get job information</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"🍓 Getting job info..."</span><span class="p">)</span>
<span class="n">jobid</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">jobs</span><span class="p">(</span><span class="n">jobid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="c1"># Get job output log</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"🍕 Getting job output..."</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">jobid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
</pre>
           </div>
          </div>
         </section>
         <section id="flux-cloud-helper-tool">
          <h3 id="flux-cloud-helper-tool">
           3. Flux Cloud Helper Tool
           <a class="headerlink" href="#flux-cloud-helper-tool" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           If you have a set of experiments you want to run on a production cluster, and especially
if you don’t want the cluster being up longer than it has to be, check out
           <a class="reference external" href="https://github.com/converged-computing/flux-cloud">
            Flux Cloud
           </a>
           .
It’s a small experiment runner wrapper that makes bringing up the cluster, installing
the operator, running a matrix of experiments, and destroying the cluster much
easier than all the copy pasting of commands typically required!
          </p>
         </section>
         <section id="advanced-shell">
          <h3 id="advanced-shell">
           4. Advanced Shell
           <a class="headerlink" href="#advanced-shell" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           You can also submit jobs interacting with Flux via ssh-ing to the pod! This is considered
advanced, and is good for debugging. As you did before, get your pod listing:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$<span class="w"> </span>kubectl<span class="w"> </span>-n<span class="w"> </span>flux-operator<span class="w"> </span>pods
</pre>
           </div>
          </div>
          <p>
           And then shell in
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$<span class="w"> </span>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>--stdin<span class="w"> </span>--tty<span class="w"> </span>-n<span class="w"> </span>flux-operator<span class="w"> </span><span class="si">${</span><span class="nv">brokerPod</span><span class="si">}</span><span class="w"> </span>--<span class="w"> </span>/bin/bash
</pre>
           </div>
          </div>
          <p>
           Note that if you have more than one container, you’ll need to include it’s name with
           <code class="docutils literal notranslate">
            <span class="pre">
             -c
            </span>
            <span class="pre">
             &lt;container&gt;
            </span>
           </code>
           .
Also note that if you need to load any custom environments (e.g., something you’d define in the preCommand for a container)
you’ll likely need to do that when you shell in.
          </p>
         </section>
        </section>
       </section>
      </article>
     </div>
    </div>
   </main>
  </div>
  <footer class="md-footer">
   <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
     <a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="user-guide.html" rel="prev" title="User Guide">
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-back md-footer-nav__button">
       </i>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Previous
        </span>
        User Guide
       </span>
      </div>
     </a>
     <a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="custom-resource-definition.html" rel="next" title="Mini Cluster">
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Next
        </span>
        Mini Cluster
       </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-forward md-footer-nav__button">
       </i>
      </div>
     </a>
    </nav>
   </div>
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
     <div class="md-footer-copyright">
      <div class="md-footer-copyright__highlight">
       © Copyright 2022, Flux Developers.
      </div>
      Last updated on
              Jan 07, 2023.
      <br/>
      Created using
      <a href="http://www.sphinx-doc.org/">
       Sphinx
      </a>
      5.3.0.
             and
      <a href="https://github.com/bashtage/sphinx-material/">
       Material for
              Sphinx
      </a>
     </div>
    </div>
   </div>
  </footer>
  <script src="../_static/javascripts/application.js">
  </script>
  <script>
   app.initialize({version: "1.0.4", url: {base: ".."}})
  </script>
 </body>
</html>